///  main: _module.scss
///  ==========================================================================
///  Server Discovery view
///  ==========================================================================

:root {
  --discover-background: #{color('primary-1')};

  --discover-splash-image-width: 36rem;
  --discover-splash-image-height: calc(var(--discover-splash-image-width) * (var(--aspect-ratio-16-9)));
}


// Page outer container
.pageWrapper-1PgVDX {
  width: 100%;
  background: var(--discover-background) !important;
  // Section headers
  .sectionHeader-1Hee-5 {
    margin: 3rem 0 1rem 0;
    font-size: 1.6rem;
    font-weight: 400;
    line-height: 1.5;
    color: color('tint-11');
  }
  // 'Find New Communites On Discord' header
  .mainHeader-1i17pL {
    @include component('header', 'h1');
    margin: 0 0 4rem 0;
    font-weight: 700 !important;
    text-transform: capitalize;
  }
  // Section separator
  .sectionSeparator-2OWiNT {
    background-color: var(--border-color);
  }
  // Scroller wrap
  .scrollerWrap-2lJEkd {
    padding: 2px 2px 0 0;
  }
  // Search bar outer container
  .searchBox-26HYGw {
    width: 100% !important;
    padding: 0;
    background: none;
    border-radius: var(--input-primary-roundness);
    box-shadow: none !important;
    opacity: 0.85;
    // Search bar inner container
    .searchBox-3Y2Vi7 {
      padding: 0;
      background: none !important;
      border-radius: 0;
      box-shadow: none !important;
    }
    // Search input
    .searchBoxInput-uJtBcv {
      height: 5rem !important;
      padding: 2rem !important;
      font-size: 2rem !important;
      &::placeholder {
        font-size: 2rem !important;
      }
    }
    // Search icon and clear icon
    .clear-U3WkKp,
    .searchIcon-1a1-yA {
      @include size(3rem);
      position: absolute;
      top: calc((5rem - 3rem) / 2);
      right: calc((5rem - 3rem) / 2);
      color: color('tint-7');
    }
    // Clear icon
    .clearIcon-2N9YIn {
      color: color('tint-7');
      &:hover {
        color: color('white');
      }
    }
  }
  // Top background image
  .bg-AYqtMd {
    @include remove-img;
    background: var(--discover-background) url('https://media.discordapp.net/attachments/291801740024479744/473245962773463050/games-cover-art-bg.png') left -4rem center;
    background-blend-mode: overlay;
  }
  // Page inner container
  .body-2lagau {
    width: 100%;
    max-width: 100%;
    padding: 0 7rem;
  }
  // Guild grid outer container
  .guildList-1ItbxP {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    min-width: 100%;
    margin: 0 -1rem;
    > .card-3DjzTQ {
      @include size(var('discover-splash-image-width'), var('discover-splash-image-height'));
      display: flex;
      flex: 1 0 auto;
      max-width: 50%;
      min-height: var('discover-splash-image-height');
      margin: 0 1rem 2rem;
      overflow: visible;
      background: var('placeholder-background') !important;
      border-radius: 0 !important;
    }
  }
  .cardPlaceholder-1zrbbe {

  }
  // Guild outer container
  .guildCard-2arfcG {
    display: flex;
    flex: 1 0 auto;
    width: var(--discover-splash-image-width);
    max-width: 50%;
    padding: 0 1rem 2rem;
    background: none !important;
    border-radius: 0 !important;
    // Guild inner container
    .card-3DjzTQ {
      position: relative;
      width: 100%;
      background: none !important;
      border-radius: 0;
      box-shadow: none !important;
      transition: none;
      transform: none;
      &:hover {
        .cardHeader-Int16m {
          &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: color('primary-2', .75); 
          }
        }
        .button-38aScr {
          &::after {
            visibility: visible;
          }
        }
      }
      &:active {
        .button-38aScr {
          &::after {

          }
        }
      }
    }
  }
  // Language selector
  .languageSelector-1R8fPE {
    margin-left: 1rem;
  }
  .css-1wqqa50-container {
    @include component('input', 'text', 'base');
    height: 100% !important;
    margin-left: 1rem;
    padding: 0 !important;
    opacity: 0.85;
  }
  // Down arrow container
  .css-12qlrak-indicatorContainer {
    opacity: 1 !important;
  }
  // Down arrow svg
  .css-19bqh2r {
    @include mask(icon('caret-down'), color('white'));
  }
  // Container includes guild icon, splash, view button
  .cardHeader-Int16m {
    flex: 0 0 auto;
    width: 100%;
    overflow: visible;
    background: var(--placeholder-background);
    border-radius: var(--image-border-radius);
    // View button
    .button-38aScr {
      @include size(100%, 100%!important);
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      padding: 0 !important;
      visibility: hidden;
      .contents-18-Yxp {
        display: none;
      }
      &::after {
        @include localize('View');
        @include component('button', 'primary', 'base');
      }
    }
  }
  // Verified icon
  .verifiedIcon-1vpk3S {
    @include size(2rem);
    order: 2;
    margin: 0 0 0 0.7rem;
    background: badge('verified') no-repeat center / 2rem;
    // Flower shape and checkmark container
    .flowerStar-1GeTsn,
    .childContainer-1wxZNh {
      display: none;
    }
  }
  // Guild splash background
  .splash-3N0nhD {
    @include size(100%, 100%);
    position: relative;
    top: 0;
    left: 0;
    display: flex;
    background: var(--placeholder-background);
    border-radius: var(--image-border-radius);
    transform: none !important;
    backface-visibility: unset !important;
    svg {
      @include size(100%);
      border-radius: var(--image-border-radius);
    }
    foreignObject {
      @include size(100%);
      background-color: color('primary-3');
      mask: none;
    }
  }
  .splashImage-1wJ3Sk {
    position: absolute;
    &[src="#{discordImages('game-splash')}"] {
      @include component('placeholder', 'game-splash');
      @include remove-img;
    }
  }
  // Guild info container
  .guildInfo-2wGKIg {
    margin: 1rem 0 2rem 5rem; 
    padding: 0;
  }
  // Guild name container
  .title-OqQvkN {
    // Guild name
    .guildName-1yURO5 {
      @include component('header', 'h6');
      &:hover {
        color: var(--link-color) !important;
        text-decoration: var(--link-hover-text-decoration);
      }
    }
  }
  // Guild description container
  .description-2QALGo {
    flex: 0 1 auto;
    max-height: 4.1rem;
    margin: 0.3rem 0 0 0;
    // Guild description
    span {
      @include component('header', 'h5');
      @include max-lines(2);
      margin: 0 0 0.7rem 0;
      font-size: 1.2rem !important;
      &:empty {
        display: none;
      }
    }
  }
  // Guild online count
  .memberCount-1a8ALW {
    .colorStandard-2KCXvj {
      font-size: 1.2rem;
      font-weight: 400;
      color: color('tint-7');
    }
  }
  .dotOffline-3DXoDy,
  .dotOnline-8Ag7EB {
    margin-right: 0.5rem;
    border-radius: var(--status-roundness);
  }
  .dotOnline-8Ag7EB {
    background: var(--status-online-color);
  }
  .dotOffline-3DXoDy {
    background: var(--status-offline-color);
  }
  // Guild icon container
  .guildIcon-3W0pfo {
    @include size(4rem);
    position: absolute;
    bottom: -5rem;
    left: 0;
    border-radius: var(--guild-border-radius);
    svg,
    foreignObject {
      @include size(100%);
      mask: none;
    }
    // Guild icon img
    .avatar-22otdK {
      @include size(100%, auto);
      background: none;
      border-radius: var(--guild-border-radius);
    }
  }
  // Pagination outer container
  .pageControlContainer-3czZwE {
    @include size(auto, calc(100vh - var(--titlebar-height) - var(--main-nav-height)));
    position: fixed;
    right: 2.5rem;
    display: flex;
    margin: 0;
  }
  // Pagination inner container
  .pageControl-1aUwvK {
    flex-direction: column;
    width: 3rem !important;
    padding: 0;
  }
  // Back and forward buttons
  .endButton-3wGL3C {
    @include mask(icon('caret-left'), color('white', .05));
    display: none;
    width: 1.5rem;
    border: none !important;
    box-shadow: none !important;
    &:disabled {
      opacity: 0.5 !important;
    }
    // Button contents
    .endButtonInner-7u9q7X {
      display: none !important;
    }
  }
  // Page number container
  .roundButton-2CW1Hh {
    @include size(1.2rem);
    position: relative;
    min-width: 0;
    margin: 1.5rem 0;
    padding: 0;
    background: color('white', .15);
    border-radius: 50%;
    transition: var(--disable-transitions, 'transform 0.3s, background 0.3s');
    &:hover {
      background: color('white', .3);
    }
    // The page numbers
    span {
      display: none;
    }
    &.activeButton-1BJAiN {
      pointer-events: none;
      background-color: var(--button-primary-background-color);
      transform: scale(1.3);
      &::after {
        @include size(200%);
        content: '';
        position: absolute;
        display: block;
        border: 1px solid var(--button-primary-background-color);
        border-radius: 50%;
        animation: var(--disable-animations, bouncePie 0.3s forwards);
      }
    }
  }
}